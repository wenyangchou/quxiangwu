<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.project.system.order.mapper.OrderMapper">

    <resultMap id="orderResult" type="com.ruoyi.project.system.order.domain.Order">
        <id property="id" column="id"/>
        <result property="createTime" column="create_time"/>
        <result property="modifyTime" column="modify_time"/>
        <result property="userId" column="user_id"/>
        <result property="thingId" column="thing_id"/>
        <result property="status" column="status"/>
        <result property="placeId" column="place_id"/>
        <result property="payType" column="pay_type"/>
        <result property="actualQuxiangMoney" column="actual_quxiang_money"/>
        <result property="beginTime" column="begin_time"/>
        <result property="endTime" column="end_time"/>
        <result property="comment" column="comment"/>
        <result property="score" column="score"/>
    </resultMap>

    <insert id="insertOrder">
        INSERT INTO service_order (create_time,modify_time,user_id,thing_id,status,place_id,pay_type,actual_quxiang_money,begin_time,end_time,comment,score)
        VALUES (NOW(),NOW(),#{userId},#{thingId},#{status},#{placeId},#{payType},#{actualQuxiangMoney},#{beginTime},#{endTime},#{comment},#{score})
    </insert>

    <update id="updateOrderStatus">
        UPDATE service_order
        <set>
            <if test="status!=null">
                status=#{status},
            </if>
            <if test="actual_quxiang_money!=null">
                actual_quxiang_money=#{actualQuxiangMoney},
            </if>
            <if test="begin_time!=null">
                begin_time=#{beginTime},
            </if>
            <if test="end_time!=null">
                end_time=#{endTime},
            </if>
            <if test="comment!=null">
                comment=#{comment},
            </if>
            <if test="score!=null">
                score=#{score}
            </if>
            WHERE id=#{id}
        </set>
    </update>

</mapper>